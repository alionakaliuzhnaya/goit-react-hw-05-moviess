"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[341],{866:function(n,e,t){var o=t(373),r=t(184);e.Z=function(){return(0,r.jsx)(o.gy,{heigth:"100",width:"100",color:"grey",ariaLabel:"loading"})}},565:function(n,e,t){t.d(e,{Tg:function(){return l},Ai:function(){return u},Mc:function(){return p},wL:function(){return g},Bt:function(){return h}});var o=t(861),r=t(757),i=t.n(r),c="https://api.themoviedb.org/3/",a="0dc1b7672e27ccf3c49c2486e3f06114";function s(){return d.apply(this,arguments)}function d(){return d=(0,o.Z)(i().mark((function n(){var e,t,o,r=arguments;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:"",t=r.length>1&&void 0!==r[1]?r[1]:{},console.log(e),n.next=5,fetch(e,t);case 5:if(!(o=n.sent).ok){n.next=12;break}return n.next=9,o.json();case 9:n.t0=n.sent,n.next=13;break;case 12:n.t0=Promise.reject(new Error("Not found"));case 13:return n.abrupt("return",n.t0);case 14:case"end":return n.stop()}}),n)}))),d.apply(this,arguments)}function l(){return s("".concat(c,"/trending/movie/day?api_key=").concat(a))}function u(n){return console.log(n),s("".concat(c,"search/movie?api_key=").concat(a,"&language=en-US&query=").concat(n,"&page=1&include_adult=false"))}function p(n){return console.log(n),s("".concat(c,"movie/").concat(n,"?api_key=").concat(a,"&language=en-US"))}function g(n){return s("".concat(c,"movie/").concat(n,"/credits?api_key=").concat(a,"&language=en-US"))}function h(n){return s("".concat(c,"movie/").concat(n,"/reviews?api_key=").concat(a,"&language=en-US&page=1"))}},341:function(n,e,t){t.r(e),t.d(e,{default:function(){return S}});var o,r,i,c,a,s,d,l,u=t(885),p=t(791),g=t(871),h=t(168),f=t(751),v=t(501),x=f.ZP.button(o||(o=(0,h.Z)(["\nbackground-color: #E6E6FA;\n \n    padding-top: 10px;\n    padding-right: 30px;\n    padding-bottom: 10px;\n    padding-left: 30px;\n    border-radius: 4px;\n    border: none;\n    margin-bottom: 10px;\n    cursor: pointer;\n}"]))),m=f.ZP.img(r||(r=(0,h.Z)(["margin-right: 32px;\nmargin-bottom: 0;\nmin-width: 240px;\nborder-radius: 5px;"]))),j=f.ZP.div(i||(i=(0,h.Z)(["\ndisplay: flex;\n  padding-bottom: 10px;\n  border-bottom: 3px double #D8BFD8;\n"]))),b=f.ZP.div(c||(c=(0,h.Z)(["\npadding-left: 20px;"]))),Z=f.ZP.p(a||(a=(0,h.Z)(["\n    font-weight: 700;\n    font-size: 17px;\n    margin-bottom: 10px;\n  "]))),k=f.ZP.span(s||(s=(0,h.Z)(["\n  &:not(:last-child) {\n    margin-right: 10px;}\n  "]))),w=f.ZP.ul(d||(d=(0,h.Z)(["\n  border-bottom: 3px double #D8BFD8;\n  padding-bottom:10px\n  &:focus,\n  &:hover{\n  color: #D8BFD8;}\n  "]))),_=(0,f.ZP)(v.OL)(l||(l=(0,h.Z)(["\n\n&.active,\n&:hover {\n    color: #D8BFD8;}\n"]))),y=t(184);var P=function(n){var e=n.movie,t=e.poster_path,o=e.original_title,r=e.title,i=e.release_date,c=e.vote_average,a=e.overview,s=e.genres;return(0,y.jsxs)(j,{children:[(0,y.jsx)(m,{src:"https://image.tmdb.org/t/p/w342".concat(t),alt:o}),(0,y.jsxs)(b,{children:[(0,y.jsxs)("h2",{children:[r," ",i?(0,y.jsxs)(y.Fragment,{children:["(",i.slice(0,4),")"]}):""]}),(0,y.jsxs)("p",{children:["User score:",c]}),(0,y.jsx)("h3",{children:"Overview"}),(0,y.jsx)("p",{children:a}),(0,y.jsx)("h4",{children:"Genres"}),(0,y.jsx)(Z,{children:s&&s.map((function(n){var e=n.id,t=n.name;return(0,y.jsx)(k,{children:t},e)}))})]})]})},D=t(565),F=t(866),S=function(){var n,e,t,o,r,i,c=(0,g.UO)().movieId,a=(0,p.useState)({}),s=(0,u.Z)(a,2),d=s[0],l=s[1],h=(0,p.useState)("idle"),f=(0,u.Z)(h,2),v=f[0],m=f[1],j=(0,g.TH)(),b=(0,g.s0)(),Z=null!==(n=null===j||void 0===j||null===(e=j.state)||void 0===e?void 0:e.from)&&void 0!==n?n:"/";return(0,p.useEffect)((function(){m("pending"),(0,D.Mc)(c).then((function(n){l(n)}),m("resolved")).catch((function(n){console.log(n),m("rejected")}))}),[c]),(0,y.jsxs)(y.Fragment,{children:["pending"===v&&(0,y.jsx)(F.Z,{}),"resolved"===v&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(x,{type:"button",onClick:function(){b(Z)},children:"Go back"}),(0,y.jsx)(P,{movie:d}),(0,y.jsxs)(w,{children:["Additional information",(0,y.jsx)("li",{children:(0,y.jsx)(_,{to:"cast",state:{from:null!==(t=null===j||void 0===j||null===(o=j.state)||void 0===o?void 0:o.from)&&void 0!==t?t:"/"},children:"Cast"})}),(0,y.jsx)("li",{children:(0,y.jsx)(_,{to:"review",state:{from:null!==(r=null===j||void 0===j||null===(i=j.state)||void 0===i?void 0:i.from)&&void 0!==r?r:"/"},children:"Reviews"})})]}),(0,y.jsx)(g.j3,{})]}),"rejected"===v&&(0,y.jsx)("h1",{children:"Oppps,something's gone wrong"})]})}}}]);
//# sourceMappingURL=341.0193647c.chunk.js.map