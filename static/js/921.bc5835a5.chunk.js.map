{"version":3,"file":"static/js/921.bc5835a5.chunk.js","mappings":"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","sources":["components/Loader/Loader.js","components/MovieList/MovieList.styled.js","services/moviesApi.js","components/Search/SearchMovie.styled.js","components/Search/SearchMovie.js","components/MovieList/MovieList.js","views/MoviesPage.js"],"sourcesContent":["import { TailSpin } from  'react-loader-spinner'\n\nconst Loader =()=>{\n    return(\n        <TailSpin\n      heigth=\"100\"\n      width=\"100\"\n      color='grey'\n      ariaLabel='loading'\n    />\n    )\n}\n\nexport default Loader;","import styled from 'styled-components';\nimport {NavLink } from \"react-router-dom\"\n  \nexport const MoviesList =styled.ul`\ndisplay: flex;\nflex-direction: column;\nlist-style: none;\nalign-items: flex-start;`\n\n\nexport const Link=styled(NavLink)`\n\n&.active,\n&:hover {\n    color: #D8BFD8;}\n`\n","\n//import axios from 'axios';\nconst BASE_URL =\"https://api.themoviedb.org/3/\"\nconst API_KEY=\"0dc1b7672e27ccf3c49c2486e3f06114\";\n\nasync function fetchWithErrorHandling(url = '', config = {}) {\n  console.log(url)\n    const response = await fetch(url, config);\n    return response.ok\n      ? await response.json()\n      : Promise.reject(new Error('Not found'));\n  }\n  \n  export function fetchTrending() {\n    return fetchWithErrorHandling(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`);\n  }\n\n  \n  export function fetchSearchMovie(searchQuery) {\n   console.log(searchQuery)\n   return fetchWithErrorHandling(`${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&query=${searchQuery}&page=1&include_adult=false`);\n    \n  }\n\n\n export function fetchMovieById(movieId) {\n  console.log(movieId)\n  return fetchWithErrorHandling(`${BASE_URL}movie/${movieId}?api_key=${API_KEY}&language=en-US`);\n }\n  \n  export function fetchActors(movieId) {\n    return fetchWithErrorHandling(`${BASE_URL}movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`);\n  }\n\n  export function fetchReviews(movieId) {\n    return fetchWithErrorHandling(`${BASE_URL}movie/${movieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`);\n  }\n\n  \n  ","import styled from 'styled-components';\nimport {BiSearchAlt} from 'react-icons/bi';\n\n\n\nexport const Form=styled.form` display: flex;\njustify-content: center;\nalign-items: center;\npadding: 8px;\nmargin-bottom: 10px;\nmargin-top: 10px;\n`\n \n\nexport const Input =styled.input`\ndisplay: inline-block;\nwidth: 400px;\nheight: 30px;\nfont: inherit;\nfont-size: 20px;\noutline: none;\npadding-left: 4px;\npadding-right: 4px;\nborder-color: #D8BFD8;\n;` \n\n\nexport const FormButton =styled.button`\n \nbackground-color: #E6E6FA;\nborder-color: #D8BFD8;\ndisplay: inline-block;\nheight: 37px;\nborder: 0;\n\nbackground-size: 40%;\nbackground-repeat: no-repeat;\nbackground-position: center;\nopacity: 0.6;\ntransition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\ncursor: pointer;\noutline: none;;`\n \n\nexport const SearchAlt = styled(BiSearchAlt)`\nwidth:40px;\nheigth:40px`","/* eslint-disable no-unused-vars */\nimport { useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport {Form,Input,FormButton,SearchAlt } from \"./SearchMovie.styled\"\n\n\n\nconst SearchMovie = ({ onSubmit }) => {\n    const location = useLocation();\n\n    const [searchMovie, setSearchMovie] = useState('');\n   \n\n    const handleChange =event=>{\n        const normalizeValue = event.currentTarget.value.toLowerCase();\n        setSearchMovie(normalizeValue);\n      };\n   \n\n    const handleSubmit=event=>{\n    \n        event.preventDefault();\n        if (searchMovie.trim() === '') {\n            return alert('Enter a search name');\n          }\n          onSubmit(searchMovie);\n          setSearchMovie('');\n        };\n      \n\n    return(\n\n        <Form onSubmit={handleSubmit} >\n        <Input \n        type=\"text\"\n        autoComplete=\"off\"\n        placeholder=\"Search movie\"\n        value={searchMovie}\n        onChange={handleChange} />\n        <FormButton type=\"submit\"> <SearchAlt/></FormButton>\n        </Form>\n     \n     )\n    \n}\n\nexport default SearchMovie;\n\n","\nimport propTypes from \"prop-types\";\nimport {MoviesList,Link} from \"./MovieList.styled\"\n\n\nfunction MovieList ({movies,locationFrom}){\n\n    return (\n        <MoviesList>\n     { movies.map(({ id, title }) =>\n   title && (\n    <li key = {id}>\n    <Link to={ `${id}`} state={{ from: {...locationFrom}}}>                \n {title}\n    </Link>\n  </li> ))}\n        </MoviesList>\n    )\n}\n\nexport default MovieList\n\nMovieList.propTypes={\n    movies:propTypes.arrayOf(\n        propTypes.shape({\n            id:propTypes.number.isRequired,\n            title:propTypes.string.isRequired,\n        }).isRequired\n    )\n}\n\n","\nimport { useState, useEffect } from \"react\";\nimport {  useLocation, useSearchParams } from \"react-router-dom\";\nimport { fetchSearchMovie } from \"../services/moviesApi\";\nimport SearchMovie from \"../components/Search/SearchMovie\";\nimport MovieList from \"../components/MovieList/MovieList\";\nimport Loader from \"../components/Loader/Loader\";\n\n\n\nconst MoviesPage = () => {\n  const [search, setSearch] = useSearchParams();\n  const [status, setStatus] = useState(\"idle\");\n  const [error, setError] = useState(null);\n  const [movies,setMovies]= useState([])\n \n\n  const location = useLocation();\n  const query = search.get('query');\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    setStatus(\"pending\");\n\n    fetchSearchMovie(query)\n    .then(movies => {\n      setMovies(prevMovies => [...prevMovies, ...movies.results]);\n          setStatus(\"resolved\");\n        })\n      .catch((error) => {setError(error);\n         setStatus(\"rejected\");\n  });}, [query]);\n\n\n\n  const handleSubmit= searchMovies => {\n    setSearch(`?query=${searchMovies}`);}\n  \n  return (\n    <>\n    <SearchMovie onSubmit={handleSubmit}/>\n   \n      {status === \"pending\" && (\n        <Loader/>\n      )}\n       {status === \"rejected\" && <h1>{error && error.message} </h1>}\n      {status === \"resolved\" &&  (\n      <MovieList movies={movies} locationFrom={location}/>\n      )}\n     \n    </>\n  );\n};\n\nexport default MoviesPage;"],"names":["heigth","width","color","ariaLabel","MoviesList","styled","Link","NavLink","BASE_URL","API_KEY","fetchWithErrorHandling","url","config","console","log","fetch","response","ok","json","Promise","reject","Error","fetchTrending","fetchSearchMovie","searchQuery","fetchMovieById","movieId","fetchActors","fetchReviews","Form","Input","FormButton","SearchAlt","BiSearchAlt","onSubmit","useLocation","useState","searchMovie","setSearchMovie","event","preventDefault","trim","alert","type","autoComplete","placeholder","value","onChange","normalizeValue","currentTarget","toLowerCase","movies","locationFrom","map","id","title","to","state","from","useSearchParams","search","setSearch","status","setStatus","error","setError","setMovies","location","query","get","useEffect","then","prevMovies","results","catch","searchMovies","Loader","message"],"sourceRoot":""}